{"ast":null,"code":"import api from './api';\n\n// --- UPDATED FUNCTION ---\n// This function now takes a complete FormData object\nexport const submitApplication = async formData => {\n  try {\n    // When sending FormData, we must NOT set the 'Content-Type' header.\n    // Axios and the browser will set it automatically to 'multipart/form-data'.\n    const {\n      data\n    } = await api.post('/applications', formData, {\n      headers: {\n        'Content-Type': undefined // Let the browser set the boundary\n      }\n    });\n    return data;\n  } catch (error) {\n    if (error.response && error.response.data && error.response.data.msg) {\n      throw new Error(error.response.data.msg);\n    } else {\n      throw new Error('Application submission failed. Please try again.');\n    }\n  }\n};\n// --- END OF UPDATE ---\n\n// Get all applications for the logged-in user\nexport const getMyApplications = async () => {\n  try {\n    const {\n      data\n    } = await api.get('/applications/my');\n    return data;\n  } catch (error) {\n    throw error.response.data.msg || 'Failed to fetch applications';\n  }\n};","map":{"version":3,"names":["api","submitApplication","formData","data","post","headers","undefined","error","response","msg","Error","getMyApplications","get"],"sources":["D:/rosun/REP/myscheme-project/frontend/src/services/applications.js"],"sourcesContent":["import api from './api';\r\n\r\n// --- UPDATED FUNCTION ---\r\n// This function now takes a complete FormData object\r\nexport const submitApplication = async (formData) => {\r\n  try {\r\n    // When sending FormData, we must NOT set the 'Content-Type' header.\r\n    // Axios and the browser will set it automatically to 'multipart/form-data'.\r\n    const { data } = await api.post('/applications', formData, {\r\n      headers: {\r\n        'Content-Type': undefined, // Let the browser set the boundary\r\n      },\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data && error.response.data.msg) {\r\n      throw new Error(error.response.data.msg);\r\n    } else {\r\n      throw new Error('Application submission failed. Please try again.');\r\n    }\r\n  }\r\n};\r\n// --- END OF UPDATE ---\r\n\r\n// Get all applications for the logged-in user\r\nexport const getMyApplications = async () => {\r\n  try {\r\n    const { data } = await api.get('/applications/my');\r\n    return data;\r\n  } catch (error) {\r\n    throw error.response.data.msg || 'Failed to fetch applications';\r\n  }\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,QAAQ,IAAK;EACnD,IAAI;IACF;IACA;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,eAAe,EAAEF,QAAQ,EAAE;MACzDG,OAAO,EAAE;QACP,cAAc,EAAEC,SAAS,CAAE;MAC7B;IACF,CAAC,CAAC;IACF,OAAOH,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,IAAIA,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACL,IAAI,IAAII,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,GAAG,EAAE;MACpE,MAAM,IAAIC,KAAK,CAACH,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,GAAG,CAAC;IAC1C,CAAC,MAAM;MACL,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;IACrE;EACF;AACF,CAAC;AACD;;AAEA;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACF,MAAM;MAAER;IAAK,CAAC,GAAG,MAAMH,GAAG,CAACY,GAAG,CAAC,kBAAkB,CAAC;IAClD,OAAOT,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACd,MAAMA,KAAK,CAACC,QAAQ,CAACL,IAAI,CAACM,GAAG,IAAI,8BAA8B;EACjE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}